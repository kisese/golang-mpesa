2022-05-31T20:43:56.168+0300	[31mERROR[0m	controllers/stk.go:29	edit profile validation error	{"error": "Key: 'STKRequest.Msisdn' Error:Field validation for 'Msisdn' failed on the 'required' tag\nKey: 'STKRequest.Amount' Error:Field validation for 'Amount' failed on the 'required' tag"}
github.com/kisese/golang_mpesa/pkg/http/stk/controllers.(*STKController).ProcessSTKPush
	/Users/kisese/go/src/github.com/kisese/golang_mpesa/pkg/http/stk/controllers/stk.go:29
github.com/gin-gonic/gin.(*Context).Next
	/Users/kisese/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168
github.com/gin-gonic/gin.CustomRecoveryWithWriter.func1
	/Users/kisese/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/recovery.go:99
github.com/gin-gonic/gin.(*Context).Next
	/Users/kisese/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168
github.com/gin-gonic/gin.LoggerWithConfig.func1
	/Users/kisese/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/logger.go:241
github.com/gin-gonic/gin.(*Context).Next
	/Users/kisese/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168
github.com/gin-gonic/gin.(*Engine).handleHTTPRequest
	/Users/kisese/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:555
github.com/gin-gonic/gin.(*Engine).ServeHTTP
	/Users/kisese/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:511
net/http.serverHandler.ServeHTTP
	/usr/local/Cellar/go/1.17.6/libexec/src/net/http/server.go:2879
net/http.(*conn).serve
	/usr/local/Cellar/go/1.17.6/libexec/src/net/http/server.go:1930
2022-05-31T20:52:14.973+0300	[31mFATAL[0m	service/stk_request.go:74	Get token HTTP Do Error 	{"error": "Get \"https//api.safaricom.co.ke/oauth/v1/generate?grant_type=client_credentials\": unsupported protocol scheme \"\""}
github.com/kisese/golang_mpesa/pkg/http/stk/service.getDarajaToken
	/Users/kisese/go/src/github.com/kisese/golang_mpesa/pkg/http/stk/service/stk_request.go:74
github.com/kisese/golang_mpesa/pkg/http/stk/service.STKRequestService.ProcessSTKPush
	/Users/kisese/go/src/github.com/kisese/golang_mpesa/pkg/http/stk/service/stk_request.go:49
github.com/kisese/golang_mpesa/pkg/http/stk/controllers.(*STKController).ProcessSTKPush
	/Users/kisese/go/src/github.com/kisese/golang_mpesa/pkg/http/stk/controllers/stk.go:34
github.com/gin-gonic/gin.(*Context).Next
	/Users/kisese/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168
github.com/gin-gonic/gin.CustomRecoveryWithWriter.func1
	/Users/kisese/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/recovery.go:99
github.com/gin-gonic/gin.(*Context).Next
	/Users/kisese/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168
github.com/gin-gonic/gin.LoggerWithConfig.func1
	/Users/kisese/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/logger.go:241
github.com/gin-gonic/gin.(*Context).Next
	/Users/kisese/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168
github.com/gin-gonic/gin.(*Engine).handleHTTPRequest
	/Users/kisese/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:555
github.com/gin-gonic/gin.(*Engine).ServeHTTP
	/Users/kisese/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:511
net/http.serverHandler.ServeHTTP
	/usr/local/Cellar/go/1.17.6/libexec/src/net/http/server.go:2879
net/http.(*conn).serve
	/usr/local/Cellar/go/1.17.6/libexec/src/net/http/server.go:1930
2022-05-31T20:52:27.523+0300	[31mFATAL[0m	service/stk_request.go:74	Get token HTTP Do Error 	{"error": "Get \"https//api.safaricom.co.ke/oauth/v1/generate?grant_type=client_credentials\": unsupported protocol scheme \"\""}
github.com/kisese/golang_mpesa/pkg/http/stk/service.getDarajaToken
	/Users/kisese/go/src/github.com/kisese/golang_mpesa/pkg/http/stk/service/stk_request.go:74
github.com/kisese/golang_mpesa/pkg/http/stk/service.STKRequestService.ProcessSTKPush
	/Users/kisese/go/src/github.com/kisese/golang_mpesa/pkg/http/stk/service/stk_request.go:49
github.com/kisese/golang_mpesa/pkg/http/stk/controllers.(*STKController).ProcessSTKPush
	/Users/kisese/go/src/github.com/kisese/golang_mpesa/pkg/http/stk/controllers/stk.go:34
github.com/gin-gonic/gin.(*Context).Next
	/Users/kisese/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168
github.com/gin-gonic/gin.CustomRecoveryWithWriter.func1
	/Users/kisese/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/recovery.go:99
github.com/gin-gonic/gin.(*Context).Next
	/Users/kisese/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168
github.com/gin-gonic/gin.LoggerWithConfig.func1
	/Users/kisese/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/logger.go:241
github.com/gin-gonic/gin.(*Context).Next
	/Users/kisese/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168
github.com/gin-gonic/gin.(*Engine).handleHTTPRequest
	/Users/kisese/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:555
github.com/gin-gonic/gin.(*Engine).ServeHTTP
	/Users/kisese/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:511
net/http.serverHandler.ServeHTTP
	/usr/local/Cellar/go/1.17.6/libexec/src/net/http/server.go:2879
net/http.(*conn).serve
	/usr/local/Cellar/go/1.17.6/libexec/src/net/http/server.go:1930
2022-05-31T20:54:56.306+0300	[31mFATAL[0m	service/stk_request.go:74	Get token HTTP Do Error 	{"error": "Get \"https//api.safaricom.co.ke/oauth/v1/generate?grant_type=client_credentials\": unsupported protocol scheme \"\""}
github.com/kisese/golang_mpesa/pkg/http/stk/service.getDarajaToken
	/Users/kisese/go/src/github.com/kisese/golang_mpesa/pkg/http/stk/service/stk_request.go:74
github.com/kisese/golang_mpesa/pkg/http/stk/service.STKRequestService.ProcessSTKPush
	/Users/kisese/go/src/github.com/kisese/golang_mpesa/pkg/http/stk/service/stk_request.go:49
github.com/kisese/golang_mpesa/pkg/http/stk/controllers.(*STKController).ProcessSTKPush
	/Users/kisese/go/src/github.com/kisese/golang_mpesa/pkg/http/stk/controllers/stk.go:34
github.com/gin-gonic/gin.(*Context).Next
	/Users/kisese/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168
github.com/gin-gonic/gin.CustomRecoveryWithWriter.func1
	/Users/kisese/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/recovery.go:99
github.com/gin-gonic/gin.(*Context).Next
	/Users/kisese/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168
github.com/gin-gonic/gin.LoggerWithConfig.func1
	/Users/kisese/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/logger.go:241
github.com/gin-gonic/gin.(*Context).Next
	/Users/kisese/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168
github.com/gin-gonic/gin.(*Engine).handleHTTPRequest
	/Users/kisese/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:555
github.com/gin-gonic/gin.(*Engine).ServeHTTP
	/Users/kisese/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:511
net/http.serverHandler.ServeHTTP
	/usr/local/Cellar/go/1.17.6/libexec/src/net/http/server.go:2879
net/http.(*conn).serve
	/usr/local/Cellar/go/1.17.6/libexec/src/net/http/server.go:1930
2022-05-31T20:56:00.464+0300	[31mFATAL[0m	service/stk_request.go:74	Get token HTTP Do Error 	{"error": "Get \"https//api.safaricom.co.ke/oauth/v1/generate?grant_type=client_credentials\": unsupported protocol scheme \"\""}
github.com/kisese/golang_mpesa/pkg/http/stk/service.getDarajaToken
	/Users/kisese/go/src/github.com/kisese/golang_mpesa/pkg/http/stk/service/stk_request.go:74
github.com/kisese/golang_mpesa/pkg/http/stk/service.STKRequestService.ProcessSTKPush
	/Users/kisese/go/src/github.com/kisese/golang_mpesa/pkg/http/stk/service/stk_request.go:49
github.com/kisese/golang_mpesa/pkg/http/stk/controllers.(*STKController).ProcessSTKPush
	/Users/kisese/go/src/github.com/kisese/golang_mpesa/pkg/http/stk/controllers/stk.go:34
github.com/gin-gonic/gin.(*Context).Next
	/Users/kisese/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168
github.com/gin-gonic/gin.CustomRecoveryWithWriter.func1
	/Users/kisese/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/recovery.go:99
github.com/gin-gonic/gin.(*Context).Next
	/Users/kisese/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168
github.com/gin-gonic/gin.LoggerWithConfig.func1
	/Users/kisese/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/logger.go:241
github.com/gin-gonic/gin.(*Context).Next
	/Users/kisese/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168
github.com/gin-gonic/gin.(*Engine).handleHTTPRequest
	/Users/kisese/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:555
github.com/gin-gonic/gin.(*Engine).ServeHTTP
	/Users/kisese/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:511
net/http.serverHandler.ServeHTTP
	/usr/local/Cellar/go/1.17.6/libexec/src/net/http/server.go:2879
net/http.(*conn).serve
	/usr/local/Cellar/go/1.17.6/libexec/src/net/http/server.go:1930
2022-05-31T20:57:18.117+0300	[31mFATAL[0m	service/stk_request.go:74	Get token HTTP Do Error 	{"error": "Get \"http//api.safaricom.co.ke/oauth/v1/generate?grant_type=client_credentials\": unsupported protocol scheme \"\""}
github.com/kisese/golang_mpesa/pkg/http/stk/service.getDarajaToken
	/Users/kisese/go/src/github.com/kisese/golang_mpesa/pkg/http/stk/service/stk_request.go:74
github.com/kisese/golang_mpesa/pkg/http/stk/service.STKRequestService.ProcessSTKPush
	/Users/kisese/go/src/github.com/kisese/golang_mpesa/pkg/http/stk/service/stk_request.go:49
github.com/kisese/golang_mpesa/pkg/http/stk/controllers.(*STKController).ProcessSTKPush
	/Users/kisese/go/src/github.com/kisese/golang_mpesa/pkg/http/stk/controllers/stk.go:34
github.com/gin-gonic/gin.(*Context).Next
	/Users/kisese/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168
github.com/gin-gonic/gin.CustomRecoveryWithWriter.func1
	/Users/kisese/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/recovery.go:99
github.com/gin-gonic/gin.(*Context).Next
	/Users/kisese/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168
github.com/gin-gonic/gin.LoggerWithConfig.func1
	/Users/kisese/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/logger.go:241
github.com/gin-gonic/gin.(*Context).Next
	/Users/kisese/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168
github.com/gin-gonic/gin.(*Engine).handleHTTPRequest
	/Users/kisese/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:555
github.com/gin-gonic/gin.(*Engine).ServeHTTP
	/Users/kisese/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:511
net/http.serverHandler.ServeHTTP
	/usr/local/Cellar/go/1.17.6/libexec/src/net/http/server.go:2879
net/http.(*conn).serve
	/usr/local/Cellar/go/1.17.6/libexec/src/net/http/server.go:1930
2022-05-31T21:02:22.938+0300	[35mDEBUG[0m	service/stk_request.go:80	Daraja Token Response 	{"response": {"access_token":"LvbqbwXAGUEqAgbXa9GU4sxXO0ic","expires_in":"3599"}, "token": "LvbqbwXAGUEqAgbXa9GU4sxXO0ic"}
2022-05-31T21:02:22.938+0300	[35mDEBUG[0m	service/post_request.go:12	PostRequest() 	{"payload": "eyJBbW91bnQiOiIxMDAiLCJNc2lzZG4iOiIyNTQ3ODc2MjI4NyIsIlBheWJpbGwiOiIiLCJDYWxsYmFja1VybCI6IiIsIkJ1c2luZXNzU2hvcnRDb2RlIjoiIiwiUGFzc3dvcmQiOiJZVFkzTWpsbFlqUXpOV0psTmpGbE9HTTFaVFl3TURFNVpHTmhOVE00TW1FeU5qQXhNV00yTkRoak1ESmlZVEUwWlRNelptRmlZbUV5TVdVM1pqYzFPVEl3TWpJd05UTXhNakV3TWpJeSIsIlRpbWVzdGFtcCI6IjIwMjIwNTMxMjEwMjIyIiwiVHJhbnNhY3Rpb25UeXBlIjoiQ3VzdG9tZXJQYXlCaWxsT25saW5lIiwiUGFydHlBIjoiMjU0Nzg3NjIyODciLCJQYXJ0eUIiOiIiLCJQaG9uZU51bWJlciI6IjI1NDc4NzYyMjg3IiwiQ2FsbEJhY2tVUkwiOiIiLCJBY2NvdW50UmVmZXJlbmNlIjoiREFSQUpBX1hYWCIsIlRyYW5zYWN0aW9uRGVzYyI6IlBheW1lbnQifQ==", "headers": {"Authorization":["Bearer LvbqbwXAGUEqAgbXa9GU4sxXO0ic%!(NOVERB)"],"Content-Type":["application/json"],"cache-control":["no-cache"]}}
2022-05-31T21:02:22.996+0300	[35mDEBUG[0m	service/post_request.go:32	POST Response 	{"response": {"errorCode":"404.001.03","errorMessage":"Invalid Access Token","requestId":"25882-21210081-2"}, "url": "https://api.safaricom.co.ke/mpesa/stkpush/v1/processrequest"}
2022-05-31T21:04:50.159+0300	[35mDEBUG[0m	service/stk_request.go:80	Daraja Token Response 	{"response": {"access_token":"sP5IZcq0q30OTtDvwUcNHRNG33Rr","expires_in":"3599"}, "token": "sP5IZcq0q30OTtDvwUcNHRNG33Rr"}
2022-05-31T21:04:50.159+0300	[35mDEBUG[0m	service/post_request.go:12	PostRequest() 	{"payload": "eyJBbW91bnQiOiIxMDAiLCJNc2lzZG4iOiIyNTQ3ODc2MjI4NyIsIlBheWJpbGwiOiIiLCJDYWxsYmFja1VybCI6IiIsIkJ1c2luZXNzU2hvcnRDb2RlIjoiIiwiUGFzc3dvcmQiOiJZVFkzTWpsbFlqUXpOV0psTmpGbE9HTTFaVFl3TURFNVpHTmhOVE00TW1FeU5qQXhNV00yTkRoak1ESmlZVEUwWlRNelptRmlZbUV5TVdVM1pqYzFPVEl3TWpJd05UTXhNakV3TkRRNSIsIlRpbWVzdGFtcCI6IjIwMjIwNTMxMjEwNDQ5IiwiVHJhbnNhY3Rpb25UeXBlIjoiQ3VzdG9tZXJQYXlCaWxsT25saW5lIiwiUGFydHlBIjoiMjU0Nzg3NjIyODciLCJQYXJ0eUIiOiIiLCJQaG9uZU51bWJlciI6IjI1NDc4NzYyMjg3IiwiQ2FsbEJhY2tVUkwiOiIiLCJBY2NvdW50UmVmZXJlbmNlIjoiREFSQUpBX1hYWCIsIlRyYW5zYWN0aW9uRGVzYyI6IlBheW1lbnQifQ==", "headers": {"Accept":["application/json"],"Authorization":["Bearer sP5IZcq0q30OTtDvwUcNHRNG33Rr%!(NOVERB)"],"Content-Type":["application/json"],"cache-control":["no-cache"]}}
2022-05-31T21:04:50.205+0300	[35mDEBUG[0m	service/post_request.go:32	POST Response 	{"response": {"errorCode":"404.001.03","errorMessage":"Invalid Access Token","requestId":"21159-25385339-2"}, "url": "https://api.safaricom.co.ke/mpesa/stkpush/v1/processrequest"}
2022-05-31T21:07:54.389+0300	[35mDEBUG[0m	service/stk_request.go:80	Daraja Token Response 	{"response": {"access_token":"1kiv09crRg82td3XTluejjkjwnBv","expires_in":"3599"}, "token": "1kiv09crRg82td3XTluejjkjwnBv"}
2022-05-31T21:07:54.389+0300	[35mDEBUG[0m	service/post_request.go:12	PostRequest() 	{"header": {"Authorization":["Bearer 1kiv09crRg82td3XTluejjkjwnBv"],"Content-Type":["application/json"],"cache-control":["no-cache"]}}
2022-05-31T21:07:54.500+0300	[35mDEBUG[0m	service/post_request.go:32	POST Response 	{"response": {"errorCode":"400.002.02","errorMessage":"Bad Request - Invalid BusinessShortCode","requestId":"97166-37849907-2"}, "url": "https://api.safaricom.co.ke/mpesa/stkpush/v1/processrequest"}
2022-05-31T21:11:09.629+0300	[35mDEBUG[0m	service/stk_request.go:80	Daraja Token Response 	{"response": {"access_token":"r8W7B7TvrwNYFc9bq17stWySO3XB","expires_in":"3599"}, "token": "r8W7B7TvrwNYFc9bq17stWySO3XB"}
2022-05-31T21:11:09.630+0300	[35mDEBUG[0m	service/post_request.go:12	PostRequest() 	{"header": {"Authorization":["Bearer r8W7B7TvrwNYFc9bq17stWySO3XB"],"Content-Type":["application/json"],"cache-control":["no-cache"]}}
2022-05-31T21:11:09.716+0300	[35mDEBUG[0m	service/post_request.go:32	POST Response 	{"response": {"errorCode":"400.002.02","errorMessage":"Bad Request - Invalid PhoneNumber","requestId":"53782-85984984-2"}, "url": "https://api.safaricom.co.ke/mpesa/stkpush/v1/processrequest"}
2022-05-31T21:12:33.339+0300	[31mERROR[0m	service/stk_request.go:24	STK Payload  	{"input": {"msisdn":"25478762287","amount":"100"}}
github.com/kisese/golang_mpesa/pkg/http/stk/service.STKRequestService.ProcessSTKPush
	/Users/kisese/go/src/github.com/kisese/golang_mpesa/pkg/http/stk/service/stk_request.go:24
github.com/kisese/golang_mpesa/pkg/http/stk/controllers.(*STKController).ProcessSTKPush
	/Users/kisese/go/src/github.com/kisese/golang_mpesa/pkg/http/stk/controllers/stk.go:34
github.com/gin-gonic/gin.(*Context).Next
	/Users/kisese/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168
github.com/gin-gonic/gin.CustomRecoveryWithWriter.func1
	/Users/kisese/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/recovery.go:99
github.com/gin-gonic/gin.(*Context).Next
	/Users/kisese/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168
github.com/gin-gonic/gin.LoggerWithConfig.func1
	/Users/kisese/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/logger.go:241
github.com/gin-gonic/gin.(*Context).Next
	/Users/kisese/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168
github.com/gin-gonic/gin.(*Engine).handleHTTPRequest
	/Users/kisese/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:555
github.com/gin-gonic/gin.(*Engine).ServeHTTP
	/Users/kisese/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:511
net/http.serverHandler.ServeHTTP
	/usr/local/Cellar/go/1.17.6/libexec/src/net/http/server.go:2879
net/http.(*conn).serve
	/usr/local/Cellar/go/1.17.6/libexec/src/net/http/server.go:1930
2022-05-31T21:12:33.633+0300	[35mDEBUG[0m	service/stk_request.go:82	Daraja Token Response 	{"response": {"access_token":"Z6LNrJuFTSk3R35eCiOuHoeQNlef","expires_in":"3599"}, "token": "Z6LNrJuFTSk3R35eCiOuHoeQNlef"}
2022-05-31T21:12:33.633+0300	[35mDEBUG[0m	service/post_request.go:12	PostRequest() 	{"header": {"Authorization":["Bearer Z6LNrJuFTSk3R35eCiOuHoeQNlef"],"Content-Type":["application/json"],"cache-control":["no-cache"]}}
2022-05-31T21:12:33.761+0300	[35mDEBUG[0m	service/post_request.go:32	POST Response 	{"response": {"errorCode":"400.002.02","errorMessage":"Bad Request - Invalid PhoneNumber","requestId":"11397-37867679-2"}, "url": "https://api.safaricom.co.ke/mpesa/stkpush/v1/processrequest"}
2022-05-31T21:12:53.007+0300	[31mERROR[0m	service/stk_request.go:24	STK Payload  	{"input": {"msisdn":"254728762287","amount":"100"}}
github.com/kisese/golang_mpesa/pkg/http/stk/service.STKRequestService.ProcessSTKPush
	/Users/kisese/go/src/github.com/kisese/golang_mpesa/pkg/http/stk/service/stk_request.go:24
github.com/kisese/golang_mpesa/pkg/http/stk/controllers.(*STKController).ProcessSTKPush
	/Users/kisese/go/src/github.com/kisese/golang_mpesa/pkg/http/stk/controllers/stk.go:34
github.com/gin-gonic/gin.(*Context).Next
	/Users/kisese/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168
github.com/gin-gonic/gin.CustomRecoveryWithWriter.func1
	/Users/kisese/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/recovery.go:99
github.com/gin-gonic/gin.(*Context).Next
	/Users/kisese/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168
github.com/gin-gonic/gin.LoggerWithConfig.func1
	/Users/kisese/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/logger.go:241
github.com/gin-gonic/gin.(*Context).Next
	/Users/kisese/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168
github.com/gin-gonic/gin.(*Engine).handleHTTPRequest
	/Users/kisese/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:555
github.com/gin-gonic/gin.(*Engine).ServeHTTP
	/Users/kisese/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:511
net/http.serverHandler.ServeHTTP
	/usr/local/Cellar/go/1.17.6/libexec/src/net/http/server.go:2879
net/http.(*conn).serve
	/usr/local/Cellar/go/1.17.6/libexec/src/net/http/server.go:1930
2022-05-31T21:12:53.095+0300	[35mDEBUG[0m	service/stk_request.go:82	Daraja Token Response 	{"response": {"access_token":"GnzI0UTKGALSGv85SuU92NL1klw4","expires_in":"3599"}, "token": "GnzI0UTKGALSGv85SuU92NL1klw4"}
2022-05-31T21:12:53.095+0300	[35mDEBUG[0m	service/post_request.go:12	PostRequest() 	{"header": {"Authorization":["Bearer GnzI0UTKGALSGv85SuU92NL1klw4"],"Content-Type":["application/json"],"cache-control":["no-cache"]}}
2022-05-31T21:12:53.207+0300	[35mDEBUG[0m	service/post_request.go:32	POST Response 	{"response": {"errorCode":"400.002.02","errorMessage":"Bad Request - Invalid CallBackURL","requestId":"11397-37867679-4"}, "url": "https://api.safaricom.co.ke/mpesa/stkpush/v1/processrequest"}
2022-05-31T21:14:30.210+0300	[31mERROR[0m	service/stk_request.go:24	STK Payload  	{"input": {"msisdn":"254728762287","amount":"100"}}
github.com/kisese/golang_mpesa/pkg/http/stk/service.STKRequestService.ProcessSTKPush
	/Users/kisese/go/src/github.com/kisese/golang_mpesa/pkg/http/stk/service/stk_request.go:24
github.com/kisese/golang_mpesa/pkg/http/stk/controllers.(*STKController).ProcessSTKPush
	/Users/kisese/go/src/github.com/kisese/golang_mpesa/pkg/http/stk/controllers/stk.go:34
github.com/gin-gonic/gin.(*Context).Next
	/Users/kisese/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168
github.com/gin-gonic/gin.CustomRecoveryWithWriter.func1
	/Users/kisese/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/recovery.go:99
github.com/gin-gonic/gin.(*Context).Next
	/Users/kisese/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168
github.com/gin-gonic/gin.LoggerWithConfig.func1
	/Users/kisese/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/logger.go:241
github.com/gin-gonic/gin.(*Context).Next
	/Users/kisese/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/context.go:168
github.com/gin-gonic/gin.(*Engine).handleHTTPRequest
	/Users/kisese/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:555
github.com/gin-gonic/gin.(*Engine).ServeHTTP
	/Users/kisese/go/pkg/mod/github.com/gin-gonic/gin@v1.7.7/gin.go:511
net/http.serverHandler.ServeHTTP
	/usr/local/Cellar/go/1.17.6/libexec/src/net/http/server.go:2879
net/http.(*conn).serve
	/usr/local/Cellar/go/1.17.6/libexec/src/net/http/server.go:1930
2022-05-31T21:14:30.441+0300	[35mDEBUG[0m	service/stk_request.go:82	Daraja Token Response 	{"response": {"access_token":"oVxh0SBwBNZPFUfDjULc4L0yqd3F","expires_in":"3599"}, "token": "oVxh0SBwBNZPFUfDjULc4L0yqd3F"}
2022-05-31T21:14:30.441+0300	[35mDEBUG[0m	service/post_request.go:12	PostRequest() 	{"header": {"Authorization":["Bearer oVxh0SBwBNZPFUfDjULc4L0yqd3F"],"Content-Type":["application/json"],"cache-control":["no-cache"]}}
2022-05-31T21:14:30.541+0300	[35mDEBUG[0m	service/post_request.go:32	POST Response 	{"response": {"errorCode":"400.002.02","errorMessage":"Bad Request - Invalid CallBackURL","requestId":"65078-25759563-2"}, "url": "https://api.safaricom.co.ke/mpesa/stkpush/v1/processrequest"}
2022-05-31T21:14:41.993+0300	[35mDEBUG[0m	service/stk_request.go:80	Daraja Token Response 	{"response": {"access_token":"NEPYlR12Ck1chDexMmM6I9EhIzzO","expires_in":"3599"}, "token": "NEPYlR12Ck1chDexMmM6I9EhIzzO"}
2022-05-31T21:14:41.993+0300	[35mDEBUG[0m	service/post_request.go:12	PostRequest() 	{"header": {"Authorization":["Bearer NEPYlR12Ck1chDexMmM6I9EhIzzO"],"Content-Type":["application/json"],"cache-control":["no-cache"]}}
2022-05-31T21:14:42.367+0300	[35mDEBUG[0m	service/post_request.go:32	POST Response 	{"response": {"CheckoutRequestID":"ws_CO_31052022211442476728762287","CustomerMessage":"Success. Request accepted for processing","MerchantRequestID":"82119-82093890-2","ResponseCode":"0","ResponseDescription":"Success. Request accepted for processing"}, "url": "https://api.safaricom.co.ke/mpesa/stkpush/v1/processrequest"}
2022-05-31T22:23:55.379+0300	[34mINFO[0m	cmd/main.go:35	main app
2022-05-31T22:24:02.171+0300	[34mINFO[0m	cmd/main.go:43	worker
2022-05-31T22:24:02.171+0300	[35mDEBUG[0m	queue/consumer.go:9	Initialising RabbitMQ Main Listener 
2022-05-31T22:24:02.171+0300	[35mDEBUG[0m	infrastructure/queue.go:9	Initialising RabbitMQ Main Listener 
2022-05-31T22:24:02.173+0300	[31mERROR[0m	infrastructure/queue.go:13	RabbitMQ Consumer Fcailed Initializing Broker Connection 	{"error": "dial tcp [::1]:5672: connect: connection refused"}
github.com/kisese/golang_mpesa/pkg/infrastructure.Dial
	/Users/kisese/go/src/github.com/kisese/golang_mpesa/pkg/infrastructure/queue.go:13
github.com/kisese/golang_mpesa/pkg/queue.StartQueueConsumer
	/Users/kisese/go/src/github.com/kisese/golang_mpesa/pkg/queue/consumer.go:11
main.main.func2
	/Users/kisese/go/src/github.com/kisese/golang_mpesa/cmd/main.go:45
github.com/urfave/cli.HandleAction
	/Users/kisese/go/pkg/mod/github.com/urfave/cli@v1.22.9/app.go:526
github.com/urfave/cli.Command.Run
	/Users/kisese/go/pkg/mod/github.com/urfave/cli@v1.22.9/command.go:173
github.com/urfave/cli.(*App).Run
	/Users/kisese/go/pkg/mod/github.com/urfave/cli@v1.22.9/app.go:277
main.main
	/Users/kisese/go/src/github.com/kisese/golang_mpesa/cmd/main.go:50
runtime.main
	/usr/local/Cellar/go/1.17.6/libexec/src/runtime/proc.go:255
2022-05-31T22:28:15.189+0300	[34mINFO[0m	cmd/main.go:43	worker
2022-05-31T22:28:15.190+0300	[35mDEBUG[0m	queue/consumer.go:9	Initialising RabbitMQ Main Listener 
2022-05-31T22:28:15.190+0300	[35mDEBUG[0m	infrastructure/queue.go:9	Initialising RabbitMQ Main Listener 
2022-05-31T22:28:15.204+0300	[35mDEBUG[0m	infrastructure/queue.go:28	RabbitMQ Publish Queue Status 	{"status": {"Name":"STK_PUSH_REQUESTS","Messages":0,"Consumers":0}, "queue": "STK_PUSH_REQUESTS"}
2022-05-31T22:28:15.209+0300	[35mDEBUG[0m	infrastructure/queue.go:28	RabbitMQ Publish Queue Status 	{"status": {"Name":"STK_PUSH_CALLBACKS","Messages":0,"Consumers":0}, "queue": "STK_PUSH_CALLBACKS"}
2022-05-31T22:28:15.213+0300	[35mDEBUG[0m	infrastructure/queue.go:28	RabbitMQ Publish Queue Status 	{"status": {"Name":"amq.gen-IZjfw9zwue9IZbs56LQTBg","Messages":0,"Consumers":0}, "queue": ""}
2022-05-31T22:28:15.217+0300	[35mDEBUG[0m	infrastructure/queue.go:28	RabbitMQ Publish Queue Status 	{"status": {"Name":"amq.gen-z46V0vT_6Td-5xVAQFqWag","Messages":0,"Consumers":0}, "queue": ""}
2022-05-31T22:28:15.221+0300	[35mDEBUG[0m	infrastructure/queue.go:28	RabbitMQ Publish Queue Status 	{"status": {"Name":"amq.gen-Lvy2v8O23BLzdiz2wny7Cg","Messages":0,"Consumers":0}, "queue": ""}
2022-05-31T22:28:15.221+0300	[35mDEBUG[0m	queue/consumer.go:29	RabbitMQ Consumer Begin listening on queues 
2022-05-31T22:28:15.222+0300	[35mDEBUG[0m	consumers/stk_push_request.go:19	Queue Listening 	{"queue": "STK_PUSH_REQUESTS"}
2022-05-31T22:28:15.222+0300	[35mDEBUG[0m	queue/consumer.go:39	RabbitMQ Consumer Successfully Connected to our RabbitMQ Instance
2022-05-31T22:28:15.222+0300	[35mDEBUG[0m	queue/consumer.go:40	 [*] - Waiting for messages
2022-05-31T22:29:38.642+0300	[34mINFO[0m	cmd/main.go:43	worker
2022-05-31T22:29:38.642+0300	[35mDEBUG[0m	queue/consumer.go:9	Initialising RabbitMQ Main Listener 
2022-05-31T22:29:38.642+0300	[35mDEBUG[0m	infrastructure/queue.go:9	Initialising RabbitMQ Main Listener 
2022-05-31T22:29:38.652+0300	[35mDEBUG[0m	infrastructure/queue.go:28	RabbitMQ Publish Queue Status 	{"status": {"Name":"STK_PUSH_REQUESTS","Messages":0,"Consumers":0}, "queue": "STK_PUSH_REQUESTS"}
2022-05-31T22:29:38.653+0300	[35mDEBUG[0m	infrastructure/queue.go:28	RabbitMQ Publish Queue Status 	{"status": {"Name":"STK_PUSH_CALLBACKS","Messages":0,"Consumers":0}, "queue": "STK_PUSH_CALLBACKS"}
2022-05-31T22:29:38.657+0300	[35mDEBUG[0m	infrastructure/queue.go:28	RabbitMQ Publish Queue Status 	{"status": {"Name":"amq.gen-I9Z8CbVwaYUgrADqg7je9g","Messages":0,"Consumers":0}, "queue": ""}
2022-05-31T22:29:38.660+0300	[35mDEBUG[0m	infrastructure/queue.go:28	RabbitMQ Publish Queue Status 	{"status": {"Name":"amq.gen-J3t9DHFjEzAg3Ne8Qil3hw","Messages":0,"Consumers":0}, "queue": ""}
2022-05-31T22:29:38.663+0300	[35mDEBUG[0m	infrastructure/queue.go:28	RabbitMQ Publish Queue Status 	{"status": {"Name":"amq.gen-NxTlFKwEaiMjjfDKXpoAfQ","Messages":0,"Consumers":0}, "queue": ""}
2022-05-31T22:29:38.663+0300	[35mDEBUG[0m	queue/consumer.go:29	RabbitMQ Consumer Begin listening on queues 
2022-05-31T22:29:38.664+0300	[35mDEBUG[0m	consumers/stk_push_request.go:19	Queue Listening 	{"queue": "STK_PUSH_REQUESTS"}
2022-05-31T22:29:38.664+0300	[35mDEBUG[0m	queue/consumer.go:39	RabbitMQ Consumer Successfully Connected to our RabbitMQ Instance
2022-05-31T22:29:38.664+0300	[35mDEBUG[0m	queue/consumer.go:40	 [*] - Waiting for messages
2022-05-31T22:29:44.614+0300	[34mINFO[0m	cmd/main.go:35	main app
2022-05-31T22:29:48.883+0300	[35mDEBUG[0m	queue/publisher.go:14	Initialising RabbitMQ Publish 	{"queue": "STK_PUSH_REQUESTS", "payload": {"msisdn":"254728762287","amount":"100"}}
2022-05-31T22:29:48.884+0300	[35mDEBUG[0m	infrastructure/queue.go:9	Initialising RabbitMQ Main Listener 
2022-05-31T22:29:48.898+0300	[35mDEBUG[0m	queue/publisher.go:41	RabbitMQ Publish Queue Status 	{"status": {"Name":"STK_PUSH_REQUESTS","Messages":0,"Consumers":1}, "queue": "STK_PUSH_REQUESTS", "payload": {"msisdn":"254728762287","amount":"100"}}
2022-05-31T22:29:48.903+0300	[35mDEBUG[0m	queue/publisher.go:74	RabbitMQ Publish Successfully Published Message to Queue ~> true	{"queue": "STK_PUSH_REQUESTS", "payload": {"msisdn":"254728762287","amount":"100"}}
2022-05-31T22:29:48.907+0300	[35mDEBUG[0m	consumers/stk_push_request.go:26	RabbitMQ Consumer Received Message {"msisdn":"254728762287","amount":"100"}
2022-05-31T22:29:49.978+0300	[35mDEBUG[0m	service/daraja_token.go:38	Daraja Token Response 	{"response": {"access_token":"BUETBGyC60E8drD1PAaiAieAoVSj","expires_in":"3599"}, "token": "BUETBGyC60E8drD1PAaiAieAoVSj"}
2022-05-31T22:29:49.978+0300	[35mDEBUG[0m	service/http_post.go:12	PostRequest() 	{"header": {"Authorization":["Bearer BUETBGyC60E8drD1PAaiAieAoVSj"],"Content-Type":["application/json"],"cache-control":["no-cache"]}}
2022-05-31T22:29:50.648+0300	[35mDEBUG[0m	service/http_post.go:32	POST Response 	{"response": {"CheckoutRequestID":"ws_CO_31052022222950704728762287","CustomerMessage":"Success. Request accepted for processing","MerchantRequestID":"50240-82253068-2","ResponseCode":"0","ResponseDescription":"Success. Request accepted for processing"}, "url": "https://api.safaricom.co.ke/mpesa/stkpush/v1/processrequest"}
2022-05-31T22:33:27.162+0300	[35mDEBUG[0m	queue/publisher.go:14	Initialising RabbitMQ Publish 	{"queue": "STK_PUSH_REQUESTS", "payload": {"msisdn":"250781968215","amount":"100"}}
2022-05-31T22:33:27.163+0300	[35mDEBUG[0m	infrastructure/queue.go:9	Initialising RabbitMQ Main Listener 
2022-05-31T22:33:27.179+0300	[35mDEBUG[0m	queue/publisher.go:41	RabbitMQ Publish Queue Status 	{"status": {"Name":"STK_PUSH_REQUESTS","Messages":0,"Consumers":1}, "queue": "STK_PUSH_REQUESTS", "payload": {"msisdn":"250781968215","amount":"100"}}
2022-05-31T22:33:27.180+0300	[35mDEBUG[0m	queue/publisher.go:74	RabbitMQ Publish Successfully Published Message to Queue ~> true	{"queue": "STK_PUSH_REQUESTS", "payload": {"msisdn":"250781968215","amount":"100"}}
2022-05-31T22:33:27.184+0300	[35mDEBUG[0m	consumers/stk_push_request.go:26	RabbitMQ Consumer Received Message {"msisdn":"250781968215","amount":"100"}
2022-05-31T22:33:27.350+0300	[35mDEBUG[0m	service/daraja_token.go:38	Daraja Token Response 	{"response": {"access_token":"ARAxM2qe22F8swVYxig1CMxclISN","expires_in":"3599"}, "token": "ARAxM2qe22F8swVYxig1CMxclISN"}
2022-05-31T22:33:27.351+0300	[35mDEBUG[0m	service/http_post.go:12	PostRequest() 	{"header": {"Authorization":["Bearer ARAxM2qe22F8swVYxig1CMxclISN"],"Content-Type":["application/json"],"cache-control":["no-cache"]}}
2022-05-31T22:33:27.460+0300	[35mDEBUG[0m	service/http_post.go:32	POST Response 	{"response": {"errorCode":"400.002.02","errorMessage":"Bad Request - Invalid PhoneNumber","requestId":"97177-38047561-2"}, "url": "https://api.safaricom.co.ke/mpesa/stkpush/v1/processrequest"}
2022-05-31T22:35:01.398+0300	[35mDEBUG[0m	queue/publisher.go:14	Initialising RabbitMQ Publish 	{"queue": "STK_PUSH_REQUESTS", "payload": {"msisdn":"254723245550","amount":"100"}}
2022-05-31T22:35:01.398+0300	[35mDEBUG[0m	infrastructure/queue.go:9	Initialising RabbitMQ Main Listener 
2022-05-31T22:35:01.407+0300	[35mDEBUG[0m	queue/publisher.go:41	RabbitMQ Publish Queue Status 	{"status": {"Name":"STK_PUSH_REQUESTS","Messages":0,"Consumers":1}, "queue": "STK_PUSH_REQUESTS", "payload": {"msisdn":"254723245550","amount":"100"}}
2022-05-31T22:35:01.407+0300	[35mDEBUG[0m	queue/publisher.go:74	RabbitMQ Publish Successfully Published Message to Queue ~> true	{"queue": "STK_PUSH_REQUESTS", "payload": {"msisdn":"254723245550","amount":"100"}}
2022-05-31T22:35:01.409+0300	[35mDEBUG[0m	consumers/stk_push_request.go:26	RabbitMQ Consumer Received Message {"msisdn":"254723245550","amount":"100"}
2022-05-31T22:35:01.628+0300	[35mDEBUG[0m	service/daraja_token.go:38	Daraja Token Response 	{"response": {"access_token":"aYD4p2YUa9AVjM9cy1MMNM5BicLI","expires_in":"3599"}, "token": "aYD4p2YUa9AVjM9cy1MMNM5BicLI"}
2022-05-31T22:35:01.628+0300	[35mDEBUG[0m	service/http_post.go:12	PostRequest() 	{"header": {"Authorization":["Bearer aYD4p2YUa9AVjM9cy1MMNM5BicLI"],"Content-Type":["application/json"],"cache-control":["no-cache"]}}
2022-05-31T22:35:01.977+0300	[35mDEBUG[0m	service/http_post.go:32	POST Response 	{"response": {"CheckoutRequestID":"ws_CO_31052022223502145723245550","CustomerMessage":"Success. Request accepted for processing","MerchantRequestID":"97167-38050407-2","ResponseCode":"0","ResponseDescription":"Success. Request accepted for processing"}, "url": "https://api.safaricom.co.ke/mpesa/stkpush/v1/processrequest"}
